<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Testing your final Survey service</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>Building an Azure Mobile App</header>

    <section id="main">

        <h1 id="page-title"></h1>

        <h2>Duration</h2>
        <p>10 minutes</p>

        <h2>Goals</h2>
        <p>
            In this final independent lab exercise, we will use a pre-written Xamarin Workbook to test your service. It will execute all the of the endpoints and let you explore the service from the client perspective.
        </p>

        <h2>Assets</h2>
        <p>
        	There is a sample markdown workbook file named <b>azr110-test</b> in the <b>Exercise 5</b> folder.
        </p>

        <div class="hintblock">
        <b>Before you start:</b> The supplied workbook is built using <a href="https://developer.xamarin.com/guides/cross-platform/workbooks/install/">Xamarin Workbooks 1.0</a>, make sure you have this tool installed so you can run the code. It runs on either Windows or macOS and the workbook has been setup as a Console target so it should run on both platforms without modification.
        </div>

        <!-- Steps -->
        <h1>Steps</h1>

        <h2>Install Xamarin Workbooks</h2>
        <p>
        	We are going to use a dynamic runtime/documentation engine called Xamarin Workbooks to test our service. This is an optional Xamarin install available for macOS or Windows.
        </p>
        <ol>
        	<li>Download Workbooks from the installation link found on the <a href="https://developer.xamarin.com/guides/cross-platform/workbooks/">documentation page</a>.</li>
        	<li>Run the installer to install the application to your machine.</li>
    	</ol>

    	<h2>Open the sample workbook</h2>
    	<p>
    	There is a sample workbook named <b>azr110-test</b> which has documentation and code to execute against your service. It uses C# and standard .NET classes to read and write data to your service.
    	</p>
    	<ol>
    		<li>Open the <b>azr110-test</b> workbook in the <b>Exercise 5</b> folder included with these lab materials by double-clicking on it - this should open Xamarin Workbooks.</li>
    		<li>If it does not open Workbooks, then open the application from your Start Menu or Applications folder and then use the <b>Open</b> menu item to open the workbook.</li>
    		<li>Once it's open, it should display the full markdown workbook.</li>
    		<img class="indent-none" src="./res/images/ex5-workbooks.png" />
    		<li>You will need to change the <b>subdomain</b> variable that's defined at the top of the workbook - set this to your server app name, replacing the current value of "castyourvote". The workbook will add the proper suffix and endpoint information.</li>
    		<img class="indent-none" src="./res/images/ex5-change-server.png" />
    	</ol>

    	<h2>Explore the workbook</h2>
    	<p>
    		The workbook is broken in sections which test your service. It starts by defining the C# client classes which will represent the JSON data - we aren't using a client side library here so it just has code to turn the object into the proper JSON shape.
    	</p>
    	<p>
    		Next there is a test function to execute each of your defined URL functions. To execute a block of code, press the "play" icon right below the code block:
    		<img src="./res/images/ex5-play-workbook.png" />
    	</p>
    	<p>
    		This will execute this block and all blocks above it. You can go down through the document trying out each function, and even changing the data supplied and executing the methods again to try different combinations.
    	</p>
    	<p>
    		If the service is properly configured (based on the prior lab instructions), it should be able to run with this script without any trouble. Have fun exploring!
    	</p>

        <h1>Summary</h1>
        <p>
        	Congratulations! You have successfully tested your Azure service!
        </p>
        <div class="align-right">
            <a href="../Start%20Here.html">Go Back</a>
        </div>
    </section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer>Copyright (C) 2018 Xamarin Inc., Microsoft.</footer>
</body>
</html>
